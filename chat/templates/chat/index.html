<!-- chat/templates/chat/index.html -->
{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Chat Rooms</title>
    <link rel="stylesheet" href="{% static 'chat/reset.css' %}">
    <link rel="stylesheet" href="{% static 'chat/index.css' %}">
</head>
<body>
    <div class="background">
        <img class="background-logo" src="{% static 'users/xaax-logo.png' %}" alt="">
        <img class="background-image" src="{% static 'users/xaax-background.png' %}" alt="background">
    </div>
    <div class="wrapper">
        <div class="top">
            <img class="logo" src="{% static 'users/xaax-logo.png' %}" alt="">
            <a href="{% url 'logout                                                ' %}"><h3>Logout</h3></a>
        </div>
        <h1>Hello, {{ name }}</h1>
        <h2>Select a room name</h2>
        <input id="room-name-input" type="text">
        <button id="room-name-submit" type="submit">Enter Room</button>
    </div>


    
    <div class="op">
        <img class="background-image" src="{% static 'users/xaax-logo-blue.png' %}" alt="background">
        <script>
            setTimeout(function(){
                const op = document.querySelector('.op')
                op.style.display = 'none'
            }, 1000)
        </script>
    </div>


    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            if(roomName != ''){
                window.location.pathname = '/chat/' + roomName + '/';
            }
        };
    </script>
</body>
</html>